<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>SimulatorTestbed | signum-smartc-testbed</title><meta name="description" content="Documentation for signum-smartc-testbed"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">signum-smartc-testbed</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">signum-smartc-testbed</a></li><li><a href="SimulatorTestbed.html">SimulatorTestbed</a></li></ul><h1>Class SimulatorTestbed</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Simulator Testbed Class</p>
<p>Use this class to run scenarios against the simulator.</p>
</div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-ts"><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-3">Scenario1</span><span class="hl-0">: </span><span class="hl-8">TransactionObj</span><span class="hl-0">[] = [</span><br/><span class="hl-0">  {</span><br/><span class="hl-0">    </span><span class="hl-1">blockheight:</span><span class="hl-0"> </span><span class="hl-2">1</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">amount:</span><span class="hl-0"> </span><span class="hl-2">6_0000_0000</span><span class="hl-6">n</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">sender:</span><span class="hl-0"> </span><span class="hl-2">1</span><span class="hl-6">n</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">recipient:</span><span class="hl-0"> </span><span class="hl-2">2</span><span class="hl-6">n</span><span class="hl-0">,</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  {</span><br/><span class="hl-0">    </span><span class="hl-1">blockheight:</span><span class="hl-0"> </span><span class="hl-2">3</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">amount:</span><span class="hl-0"> </span><span class="hl-2">5000_0000</span><span class="hl-6">n</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">sender:</span><span class="hl-0"> </span><span class="hl-2">1</span><span class="hl-6">n</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">recipient:</span><span class="hl-0"> </span><span class="hl-2">2</span><span class="hl-6">n</span><span class="hl-0">,</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  </span><span class="hl-7">// ...</span><br/><span class="hl-0">]</span><br/><br/><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-3">ContractPath</span><span class="hl-0"> = </span><span class="hl-4">join</span><span class="hl-0">(</span><span class="hl-1">__dirname</span><span class="hl-0"> + </span><span class="hl-5">&#39;./contract.smart.c&#39;</span><span class="hl-0">)</span><br/><br/><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-3">Testbed</span><span class="hl-0"> = </span><span class="hl-6">new</span><span class="hl-0"> </span><span class="hl-4">SimulatorTestbed</span><span class="hl-0">()</span><br/><span class="hl-1">Testbed</span><span class="hl-0">.</span><span class="hl-4">loadContract</span><span class="hl-0">(</span><span class="hl-1">ContractPath</span><span class="hl-0">)</span><br/><span class="hl-0">       .</span><span class="hl-4">runScenario</span><span class="hl-0">(</span><span class="hl-1">Scenario1</span><span class="hl-0">);</span><br/><br/><span class="hl-0"> </span><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-3">bc</span><span class="hl-0"> = </span><span class="hl-1">Testbed</span><span class="hl-0">.</span><span class="hl-1">Node</span><span class="hl-0">.</span><span class="hl-1">Blockchain</span><span class="hl-0">;</span><br/><span class="hl-0"> </span><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-3">tx</span><span class="hl-0"> = </span><span class="hl-1">bc</span><span class="hl-0">.</span><span class="hl-1">transactions</span><span class="hl-0">;</span><br/><span class="hl-0"> </span><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-3">map</span><span class="hl-0"> = </span><span class="hl-1">testbed</span><span class="hl-0">.</span><span class="hl-4">getContractMap</span><span class="hl-0">().</span><span class="hl-4">filter</span><span class="hl-0">(({</span><span class="hl-1">k1</span><span class="hl-0">, </span><span class="hl-1">k2</span><span class="hl-0">, </span><span class="hl-1">value</span><span class="hl-0">}) </span><span class="hl-6">=&gt;</span><span class="hl-0"> ...)</span>
</code><button>Copy</button></pre>
<p><strong>INITIALIZE CONTRACT</strong></p>
<p>To initialize variables in the contract you can use the <code>initializer</code> parameter when loading the contract.</p>
<p>To apply initialization a code injection is needed and requires the developer to use defines pre-pended with TESTBED_
source code, i.e.</p>
<pre><code class="language-c"><span class="hl-7">// initializable variables</span><br/><span class="hl-7">// a good practice to have them declared as first variables in your contract</span><br/><span class="hl-6">long</span><span class="hl-0"> var1, var2, var3;</span><br/><br/><span class="hl-7">// Define values if running on testbed</span><br/><span class="hl-9">#ifdef</span><span class="hl-6"> TESTBED</span><br/><span class="hl-0"> </span><span class="hl-6">const</span><span class="hl-0"> var1 = TESTBED_var1;</span><br/><span class="hl-0"> </span><span class="hl-6">const</span><span class="hl-0"> var2 = TESTBED_var2;</span><br/><span class="hl-0"> </span><span class="hl-6">const</span><span class="hl-0"> var3 = TESTBED_var3;</span><br/><span class="hl-9">#endif</span><br/><br/><span class="hl-7">// This way your variable can be tested with different values easily in testbed</span>
</code><button>Copy</button></pre>
<p>You may load the contract into the testbed as follows:</p>
<pre><code class="language-ts"><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-3">ContractPath</span><span class="hl-0"> = </span><span class="hl-4">join</span><span class="hl-0">(</span><span class="hl-1">__dirname</span><span class="hl-0"> + </span><span class="hl-5">&#39;./contract.smart.c&#39;</span><span class="hl-0">)</span><br/><br/><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-3">testbed</span><span class="hl-0"> = </span><span class="hl-1">SimulatorTestbed</span><br/><span class="hl-0">    .</span><span class="hl-4">loadContract</span><span class="hl-0">(</span><span class="hl-1">ContractPath</span><span class="hl-0">, {</span><br/><span class="hl-0">          </span><span class="hl-1">var1:</span><span class="hl-0"> </span><span class="hl-5">&quot;Text&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">          </span><span class="hl-1">var2:</span><span class="hl-0"> </span><span class="hl-2">1</span><span class="hl-0">,</span><br/><span class="hl-0">          </span><span class="hl-1">var3:</span><span class="hl-0"> </span><span class="hl-2">100</span><span class="hl-6">n</span><br/><span class="hl-0">          } </span><span class="hl-7">// initial values</span><br/><span class="hl-0">    ).</span><span class="hl-4">runScenario</span><span class="hl-0">(</span><span class="hl-1">Scenario1</span><span class="hl-0">);</span>
</code><button>Copy</button></pre>
<p>This testbed loads a SmartC Contract and a scenario (set of transactions) and forges all necessary blocks.
It&#39;s possible to inspect all the results, i.e. transactions, kkv-maps, accounts, in-memory variables, and test them against
expected result sets. This class is meant to be used with Test Runners like <a href="https://vitest.dev/">Vitest</a> or <a href="https://jestjs.io/">Jest</a>.</p>
</div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L88">simulator-testbed.ts:88</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-index-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="SimulatorTestbed.html#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="SimulatorTestbed.html#node" class="tsd-index-link tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>node</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Accessors</h3><div class="tsd-index-list"><a href="SimulatorTestbed.html#blockchain" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>blockchain</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="SimulatorTestbed.html#getAccount" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Account</span></a>
<a href="SimulatorTestbed.html#getContract" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract</span></a>
<a href="SimulatorTestbed.html#getContractMap" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract<wbr/>Map</span></a>
<a href="SimulatorTestbed.html#getContractMapValue" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract<wbr/>Map<wbr/>Value</span></a>
<a href="SimulatorTestbed.html#getContractMapValues" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract<wbr/>Map<wbr/>Values</span></a>
<a href="SimulatorTestbed.html#getContractMemory" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract<wbr/>Memory</span></a>
<a href="SimulatorTestbed.html#getContractMemoryValue" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract<wbr/>Memory<wbr/>Value</span></a>
<a href="SimulatorTestbed.html#getTransaction" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transaction</span></a>
<a href="SimulatorTestbed.html#getTransactionById" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transaction<wbr/>By<wbr/>Id</span></a>
<a href="SimulatorTestbed.html#getTransactions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transactions</span></a>
<a href="SimulatorTestbed.html#getTransactionsSentByContract" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transactions<wbr/>Sent<wbr/>By<wbr/>Contract</span></a>
<a href="SimulatorTestbed.html#injectInitializerCode" class="tsd-index-link tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>inject<wbr/>Initializer<wbr/>Code</span></a>
<a href="SimulatorTestbed.html#loadContract" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>load<wbr/>Contract</span></a>
<a href="SimulatorTestbed.html#runScenario" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>run<wbr/>Scenario</span></a>
<a href="SimulatorTestbed.html#selectContract" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>select<wbr/>Contract</span></a>
<a href="SimulatorTestbed.html#sendTransactionAndGetResponse" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>send<wbr/>Transaction<wbr/>And<wbr/>Get<wbr/>Response</span></a>
<a href="SimulatorTestbed.html#toSimulatorTransactions" class="tsd-index-link tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>Simulator<wbr/>Transactions</span></a>
</div></section></div></details></section></section><section class="tsd-panel-group tsd-member-group"><h2>Constructors</h2><section class="tsd-panel tsd-member"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="constructor.new_SimulatorTestbed" class="tsd-anchor"></a><span class="tsd-kind-constructor-signature">new <wbr/>Simulator<wbr/>Testbed</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">scenario</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="SimulatorTestbed.html" class="tsd-signature-type tsd-kind-class">SimulatorTestbed</a><a href="#constructor.new_SimulatorTestbed" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Constructs a simulator testbed instance with or without given scenario</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">scenario</span>: <span class="tsd-signature-type">TransactionObj</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>The initial scenario to be used.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="SimulatorTestbed.html" class="tsd-signature-type tsd-kind-class">SimulatorTestbed</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L95">simulator-testbed.ts:95</a></li></ul></aside></li></ul></section></section><section class="tsd-panel-group tsd-member-group"><h2>Properties</h2><section class="tsd-panel tsd-member tsd-is-private"><a id="node" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagPrivate">Private</code> <span>node</span><a href="#node" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">node</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">SimNode</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L89">simulator-testbed.ts:89</a></li></ul></aside></section></section><section class="tsd-panel-group tsd-member-group"><h2>Accessors</h2><section class="tsd-panel tsd-member"><a id="blockchain" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>blockchain</span><a href="#blockchain" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature" id="blockchain.blockchain-1"><span class="tsd-signature-keyword">get</span> blockchain<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BLOCKCHAIN</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Leaky abstraction that provides access to the underlying blockchain object</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">BLOCKCHAIN</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L249">simulator-testbed.ts:249</a></li></ul></aside></li></ul></section></section><section class="tsd-panel-group tsd-member-group"><h2>Methods</h2><section class="tsd-panel tsd-member"><a id="getAccount" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Account</span><a href="#getAccount" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getAccount.getAccount-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Account</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">accountId</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AccountObj</span><a href="#getAccount.getAccount-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Retrieves the account with the specified account ID.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">accountId</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>The ID of the account to retrieve.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AccountObj</span></h4><p>The account with the specified ID, or undefined if no account is found.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L231">simulator-testbed.ts:231</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getContract" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Contract</span><a href="#getContract" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getContract.getContract-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Contract</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">CONTRACT</span><a href="#getContract.getContract-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Retrieves a given contract by address.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>The contract address (default: the last deployed).</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">CONTRACT</span></h4><p>The contract.</p>
<div class="tsd-comment tsd-typography"><h4>Throws</h4><p>Error if invalid contract</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L300">simulator-testbed.ts:300</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getContractMap" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Contract<wbr/>Map</span><a href="#getContractMap" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getContractMap.getContractMap-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Contract<wbr/>Map</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">MapObj</span><span class="tsd-signature-symbol">[]</span><a href="#getContractMap.getContractMap-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Retrieves the maps per contract.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>The contract address (default: the last deployed).</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">MapObj</span><span class="tsd-signature-symbol">[]</span></h4><p>The maps per contract.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L179">simulator-testbed.ts:179</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getContractMapValue" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Contract<wbr/>Map<wbr/>Value</span><a href="#getContractMapValue" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getContractMapValue.getContractMapValue-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Contract<wbr/>Map<wbr/>Value</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key1</span>, <span class="tsd-kind-parameter">key2</span>, <span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">bigint</span><a href="#getContractMapValue.getContractMapValue-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Retrieves a value from a map per slot.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key1</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>1st Key</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">key2</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>2nd Key</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>The contract address (default: the last deployed).</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">bigint</span></h4><p>The value or <code>0</code> if not exists.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L200">simulator-testbed.ts:200</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getContractMapValues" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Contract<wbr/>Map<wbr/>Values</span><a href="#getContractMapValues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getContractMapValues.getContractMapValues-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Contract<wbr/>Map<wbr/>Values</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">key1</span>, <span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">MapObj</span><span class="tsd-signature-symbol">[]</span><a href="#getContractMapValues.getContractMapValues-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Retrieves a list of (key-value)-tuples from a map per slot.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">key1</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>1st Key</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>The contract address (default: the last deployed).</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">MapObj</span><span class="tsd-signature-symbol">[]</span></h4><p>The value or <code>0</code> if not exists.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L215">simulator-testbed.ts:215</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getContractMemory" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Contract<wbr/>Memory</span><a href="#getContractMemory" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getContractMemory.getContractMemory-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Contract<wbr/>Memory</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">MemoryObj</span><span class="tsd-signature-symbol">[]</span><a href="#getContractMemory.getContractMemory-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Retrieves the contract memory for a given slot.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>The contract address (default: the last deployed).</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">MemoryObj</span><span class="tsd-signature-symbol">[]</span></h4><p>An array of MemoryObj representing the contract memory.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L316">simulator-testbed.ts:316</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getContractMemoryValue" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Contract<wbr/>Memory<wbr/>Value</span><a href="#getContractMemoryValue" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getContractMemoryValue.getContractMemoryValue-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Contract<wbr/>Memory<wbr/>Value</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">bigint</span><a href="#getContractMemoryValue.getContractMemoryValue-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Retrieves the value of a contract memory variable by name, e.g. <code>myvalue</code> or inside a function <code>func_myvalue</code></p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The name of the variable to retrieve.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>The contract address (default: the last deployed).</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">bigint</span></h4><ul>
<li>The value of the variable if found, otherwise null.</li>
</ul>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L327">simulator-testbed.ts:327</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getTransaction" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Transaction</span><a href="#getTransaction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getTransaction.getTransaction-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Transaction</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">index</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BlockchainTransactionObj</span><a href="#getTransaction.getTransaction-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns a single transaction by Index</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">index</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Index of transaction (not Id!), must not be negative nor greater than the transaction list</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">BlockchainTransactionObj</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L257">simulator-testbed.ts:257</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getTransactionById" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Transaction<wbr/>By<wbr/>Id</span><a href="#getTransactionById" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getTransactionById.getTransactionById-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Transaction<wbr/>By<wbr/>Id</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">id</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">BlockchainTransactionObj</span><a href="#getTransactionById.getTransactionById-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns a single transaction by Id</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">id</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>Transaction Id</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">BlockchainTransactionObj</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L265">simulator-testbed.ts:265</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getTransactions" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Transactions</span><a href="#getTransactions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getTransactions.getTransactions-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Transactions</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BlockchainTransactionObj</span><span class="tsd-signature-symbol">[]</span><a href="#getTransactions.getTransactions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Return an array of BlockchainTransactionObj representing the transactions in the blockchain.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">BlockchainTransactionObj</span><span class="tsd-signature-symbol">[]</span></h4><ul>
<li>An array of BlockchainTransactionObj objects.</li>
</ul>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L242">simulator-testbed.ts:242</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getTransactionsSentByContract" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Transactions<wbr/>Sent<wbr/>By<wbr/>Contract</span><a href="#getTransactionsSentByContract" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getTransactionsSentByContract.getTransactionsSentByContract-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Transactions<wbr/>Sent<wbr/>By<wbr/>Contract</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">blockheight</span>, <span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BlockchainTransactionObj</span><span class="tsd-signature-symbol">[]</span><a href="#getTransactionsSentByContract.getTransactionsSentByContract-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Retrieves all the transactions sent by the contract at a given height.
Nice to get contract responses.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">blockheight</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>The blockheight of transactions to fetch.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>The contract address (default: the last deployed).</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">BlockchainTransactionObj</span><span class="tsd-signature-symbol">[]</span></h4><p>An array of MemoryObj representing the contract memory.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L342">simulator-testbed.ts:342</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-private"><a id="injectInitializerCode" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagPrivate">Private</code> <span>inject<wbr/>Initializer<wbr/>Code</span><a href="#injectInitializerCode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-private"><li class="tsd-signature tsd-anchor-link"><a id="injectInitializerCode.injectInitializerCode-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">inject<wbr/>Initializer<wbr/>Code</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">code</span>, <span class="tsd-kind-parameter">initializers</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><a href="#injectInitializerCode.injectInitializerCode-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">code</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">initializers</span>: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">bigint</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L135">simulator-testbed.ts:135</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="loadContract" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>load<wbr/>Contract</span><a href="#loadContract" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="loadContract.loadContract-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">load<wbr/>Contract</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">codePath</span>, <span class="tsd-kind-parameter">initializers</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="SimulatorTestbed.html" class="tsd-signature-type tsd-kind-class">SimulatorTestbed</a><a href="#loadContract.loadContract-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Loads a contract from the specified code path and eventually initializes the contract with the provided initializers</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">codePath</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The path to the SmartC code file.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">initializers</span>: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">bigint</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>The initializer object for the contract - Initialization is prepended.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="SimulatorTestbed.html" class="tsd-signature-type tsd-kind-class">SimulatorTestbed</a></h4><p>The simulator testbed with the loaded contract.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L123">simulator-testbed.ts:123</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="runScenario" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>run<wbr/>Scenario</span><a href="#runScenario" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="runScenario.runScenario-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">run<wbr/>Scenario</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">scenario</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="SimulatorTestbed.html" class="tsd-signature-type tsd-kind-class">SimulatorTestbed</a><a href="#runScenario.runScenario-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Runs a scenario by simulating a series of user transactions.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">scenario</span>: <span class="tsd-signature-type">TransactionObj</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"><p>The array of user transactions representing the scenario.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="SimulatorTestbed.html" class="tsd-signature-type tsd-kind-class">SimulatorTestbed</a></h4><ul>
<li>Returns the current instance of the class.</li>
</ul>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L276">simulator-testbed.ts:276</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="selectContract" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>select<wbr/>Contract</span><a href="#selectContract" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="selectContract.selectContract-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">select<wbr/>Contract</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="SimulatorTestbed.html" class="tsd-signature-type tsd-kind-class">SimulatorTestbed</a><a href="#selectContract.selectContract-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Updates the current contract to the contract at the specified address.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>The contract address to select. Throws error if contract is not found.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="SimulatorTestbed.html" class="tsd-signature-type tsd-kind-class">SimulatorTestbed</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L166">simulator-testbed.ts:166</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="sendTransactionAndGetResponse" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>send<wbr/>Transaction<wbr/>And<wbr/>Get<wbr/>Response</span><a href="#sendTransactionAndGetResponse" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="sendTransactionAndGetResponse.sendTransactionAndGetResponse-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">send<wbr/>Transaction<wbr/>And<wbr/>Get<wbr/>Response</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">transactions</span>, <span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BlockchainTransactionObj</span><span class="tsd-signature-symbol">[]</span><a href="#sendTransactionAndGetResponse.sendTransactionAndGetResponse-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Sends the argument transactions at the next blockheight and returns all
transactions from the selected contract in the subsequent height.
Input transactions are modified to match blockheight and contract address.
This method forges two blocks in order to get the response.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">transactions</span>: <span class="tsd-signature-type">TransactionObj</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>Transactions to send.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">bigint</span></span><div class="tsd-comment tsd-typography"><p>The target contract address (default: the last deployed).</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">BlockchainTransactionObj</span><span class="tsd-signature-symbol">[]</span></h4><p>An array of transactions, or empty array if no one was found.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L362">simulator-testbed.ts:362</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-private"><a id="toSimulatorTransactions" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <code class="tsd-tag ts-flagPrivate">Private</code> <span>to<wbr/>Simulator<wbr/>Transactions</span><a href="#toSimulatorTransactions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-private"><li class="tsd-signature tsd-anchor-link"><a id="toSimulatorTransactions.toSimulatorTransactions-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">to<wbr/>Simulator<wbr/>Transactions</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">scenario</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><a href="#toSimulatorTransactions.toSimulatorTransactions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">scenario</span>: <span class="tsd-signature-type">TransactionObj</span><span class="tsd-signature-symbol">[]</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ohager/signum-smartc-testbed/blob/e61449555df895e0337a547b9388360ba265169d/src/simulator-testbed.ts#L109">simulator-testbed.ts:109</a></li></ul></aside></li></ul></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#constructor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a><a href="#node" class="tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>node</span></a><a href="#blockchain" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>blockchain</span></a><a href="#getAccount" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Account</span></a><a href="#getContract" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract</span></a><a href="#getContractMap" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract<wbr/>Map</span></a><a href="#getContractMapValue" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract<wbr/>Map<wbr/>Value</span></a><a href="#getContractMapValues" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract<wbr/>Map<wbr/>Values</span></a><a href="#getContractMemory" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract<wbr/>Memory</span></a><a href="#getContractMemoryValue" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Contract<wbr/>Memory<wbr/>Value</span></a><a href="#getTransaction" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transaction</span></a><a href="#getTransactionById" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transaction<wbr/>By<wbr/>Id</span></a><a href="#getTransactions" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transactions</span></a><a href="#getTransactionsSentByContract" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transactions<wbr/>Sent<wbr/>By<wbr/>Contract</span></a><a href="#injectInitializerCode" class="tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>inject<wbr/>Initializer<wbr/>Code</span></a><a href="#loadContract" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>load<wbr/>Contract</span></a><a href="#runScenario" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>run<wbr/>Scenario</span></a><a href="#selectContract" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>select<wbr/>Contract</span></a><a href="#sendTransactionAndGetResponse" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>send<wbr/>Transaction<wbr/>And<wbr/>Get<wbr/>Response</span></a><a href="#toSimulatorTransactions" class="tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>Simulator<wbr/>Transactions</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>signum-smartc-testbed</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>